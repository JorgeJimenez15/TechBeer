op=_>0&&Math.abs(k[f]-P[f])>g,p&&(y.parsed=k,y.raw=l.data[_]),d&&(y.options=h||this.resolveDataElementOptions(_,v.active?"active":n)),b||this.updateElement(v,_,y,n),P=k}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,s=e.options&&e.options.borderWidth||0,n=t.data||[];if(!n.length)return s;const o=n[0].size(this.resolveDataElementOptions(0)),r=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,o,r)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}M(pe,"id","line"),M(pe,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),M(pe,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function ht(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ni{static override(t){Object.assign(ni.prototype,t)}constructor(t){this.options=t||{}}init(){}formats(){return ht()}parse(){return ht()}format(){return ht()}add(){return ht()}diff(){return ht()}startOf(){return ht()}endOf(){return ht()}}var mr={_date:ni};function br(i,t,e,s){const{controller:n,data:o,_sorted:r}=i,a=n._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&r&&o.length){const c=a._reversePixels?Wn:gt;if(s){if(n._sharedOptions){const l=o[0],h=typeof l.getRange=="function"&&l.getRange(t);if(h){const d=c(o,t,e-h),f=c(o,t,e+h);return{lo:d.lo,hi:f.hi}}}}else return c(o,t,e)}return{lo:0,hi:o.length-1}}function Zt(i,t,e,s,n){const o=i.getSortedVisibleDatasetMetas(),r=e[t];for(let a=0,c=o.length;a<c;++a){const{index:l,data:h}=o[a],{lo:d,hi:f}=br(o[a],t,r,n);for(let u=d;u<=f;++u){const m=h[u];m.skip||s(m,l,u)}}}function _r(i){const t=i.indexOf("x")!==-1,e=i.indexOf("y")!==-1;return function(s,n){const o=t?Math.abs(s.x-n.x):0,r=e?Math.abs(s.y-n.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}}function ze(i,t,e,s,n){const o=[];return!n&&!i.isPointInArea(t)||Zt(i,e,t,function(a,c,l){!n&&!Xt(a,i.chartArea,0)||a.inRange(t.x,t.y,s)&&o.push({element:a,datasetIndex:c,index:l})},!0),o}function xr(i,t,e,s){let n=[];function o(r,a,c){const{startAngle:l,endAngle:h}=r.getProps(["startAngle","endAngle"],s),{angle:d}=Nn(r,{x:t.x,y:t.y});ks(d,l,h)&&n.push({element:r,datasetIndex:a,index:c})}return Zt(i,e,t,o),n}function yr(i,t,e,s,n,o){let r=[];const a=_r(e);let c=Number.POSITIVE_INFINITY;function l(h,d,f){const u=h.inRange(t.x,t.y,n);if(s&&!u)return;const m=h.getCenterPoint(n);if(!(!!o||i.isPointInArea(m))&&!u)return;const g=a(t,m);g<c?(r=[{element:h,datasetIndex:d,index:f}],c=g):g===c&&r.push({element:h,datasetIndex:d,index:f})}return Zt(i,e,t,l),r}function Ne(i,t,e,s,n,o){return!o&&!i.isPointInArea(t)?[]:e==="r"&&!s?xr(i,t,e,n):yr(i,t,e,s,n,o)}function Bi(i,t,e,s,n){const o=[],r=e==="x"?"inXRange":"inYRange";let a=!1;return Zt(i,e,t,(c,l,h)=>{c[r](t[e],n)&&(o.push({element:c,datasetIndex:l,index:h}),a=a||c.inRange(t.x,t.y,n))}),s&&!a?[]:o}var kr={evaluateInteractionItems:Zt,modes:{index(i,t,e,s){const n=ft(t,i),o=e.axis||"x",r=e.includeInvisible||!1,a=e.intersect?ze(i,n,o,s,r):Ne(i,n,o,!1,s,r),c=[];return a.length?(i.getSortedVisibleDatasetMetas().forEach(l=>{const h=a[0].index,d=l.data[h];d&&!d.skip&&c.push({element:d,datasetIndex:l.index,index:h})}),c):[]},dataset(i,t,e,s){const n=ft(t,i),o=e.axis||"xy",r=e.includeInvisible||!1;let a=e.intersect?ze(i,n,o,s,r):Ne(i,n,o,!1,s,r);if(a.length>0){const c=a[0].datasetIndex,l=i.getDatasetMeta(c).data;a=[];for(let h=0;h<l.length;++h)a.push({element:l[h],datasetIndex:c,index:h})}return a},point(i,t,e,s){const n=ft(t,i),o=e.axis||"xy",r=e.includeInvisible||!1;return ze(i,n,o,s,r)},nearest(i,t,e,s){const n=ft(t,i),o=e.axis||"xy",r=e.includeInvisible||!1;return Ne(i,n,o,e.intersect,s,r)},x(i,t,e,s){const n=ft(t,i);return Bi(i,n,"x",e.intersect,s)},y(i,t,e,s){const n=ft(t,i);return Bi(i,n,"y",e.intersect,s)}}};const Ns=["left","top","right","bottom"];function It(i,t){return i.filter(e=>e.pos===t)}function Vi(i,t){return i.filter(e=>Ns.indexOf(e.pos)===-1&&e.box.axis===t)}function At(i,t){return i.sort((e,s)=>{const n=t?s:e,o=t?e:s;return n.weight===o.w