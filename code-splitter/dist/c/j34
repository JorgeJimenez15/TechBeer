ction fa(i,t){return i===t?"_index_":"_value_"}function ua(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function Pe(i,t){if(i==="x"||i==="y"||i==="r"||(i=t.axis||ua(t.position)||i.length>1&&Pe(i[0].toLowerCase(),t),i))return i;throw new Error(`Cannot determine type of '${name}' axis. Please provide 'axis' or 'position' option.`)}function ga(i,t){const e=mt[i.type]||{scales:{}},s=t.scales||{},n=We(i.type,t),o=Object.create(null);return Object.keys(s).forEach(r=>{const a=s[r];if(!O(a))return console.error(`Invalid scale configuration for scale: ${r}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${r}`);const c=Pe(r,a),l=fa(c,n),h=e.scales||{};o[r]=Bt(Object.create(null),[{axis:c},a,h[c],h[l]])}),i.data.datasets.forEach(r=>{const a=r.type||i.type,c=r.indexAxis||We(a,t),h=(mt[a]||{}).scales||{};Object.keys(h).forEach(d=>{const f=da(d,c),u=r[f+"AxisID"]||f;o[u]=o[u]||Object.create(null),Bt(o[u],[{axis:f},s[u],h[d]])})}),Object.keys(o).forEach(r=>{const a=o[r];Bt(a,[F.scales[a.type],F.scale])}),o}function Hs(i){const t=i.options||(i.options={});t.plugins=D(t.plugins,{}),t.scales=ga(i,t)}function $s(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function pa(i){return i=i||{},i.data=$s(i.data),Hs(i),i}const Ki=new Map,Us=new Set;function fe(i,t){let e=Ki.get(i);return e||(e=t(),Ki.set(i,e),Us.add(e)),e}const Ft=(i,t,e)=>{const s=ye(t,e);s!==void 0&&i.add(s)};class ma{constructor(t){this._config=pa(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=$s(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Hs(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return fe(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return fe(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return fe(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,s=this.type;return fe(`${s}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const s=this._scopeCache;let n=s.get(t);return(!n||e)&&(n=new Map,s.set(t,n)),n}getOptionScopes(t,e,s){const{options:n,type:o}=this,r=this._cachedScopes(t,s),a=r.get(e);if(a)return a;const c=new Set;e.forEach(h=>{t&&(c.add(t),h.forEach(d=>Ft(c,t,d))),h.forEach(d=>Ft(c,n,d)),h.forEach(d=>Ft(c,mt[o]||{},d)),h.forEach(d=>Ft(c,F,d)),h.forEach(d=>Ft(c,je,d))});const l=Array.from(c);return l.length===0&&l.push(Object.create(null)),Us.has(e)&&r.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,mt[e]||{},F.datasets[e]||{},{type:e},F,je]}resolveNamedOptions(t,e,s,n=[""]){const o={$shared:!0},{resolver:r,subPrefixes:a}=Gi(this._resolverCache,t,n);let c=r;if(_a(r,e)){o.$shared=!1,s=at(s)?s():s;const l=this.createResolver(t,s,a);c=wt(r,s,l)}for(const l of e)o[l]=c[l];return o}createResolver(t,e,s=[""],n){const{resolver:o}=Gi(this._resolverCache,t,s);return O(e)?wt(o,e,void 0,n):o}}function Gi(i,t,e){let s=i.get(t);s||(s=new Map,i.set(t,s));const n=e.join();let o=s.get(n);return o||(o={resolver:ti(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},s.set(n,o)),o}const ba=i=>O(i)&&Object.getOwnPropertyNames(i).reduce((t,e)=>t||at(i[e]),!1);function _a(i,t){const{isScriptable:e,isIndexable:s}=Ts(i);for(const n of t){const o=e(n),r=s(n),a=(r||o)&&i[n];if(o&&(at(a)||ba(a))||r&&E(a))return!0}return!1}var xa="4.2.1";const ya=["top","bottom","left","right","chartArea"];function Zi(i,t){return i==="top"||i==="bottom"||ya.indexOf(i)===-1&&t==="x"}function Qi(i,t){return function(e,s){return e[i]===s[i]?e[t]-s[t]:e[i]-s[i]}}function Ji(i){const t=i.chart,e=t.options.animation;t.notifyPlugins("afte