tyle"]()),a=0,c=t.length;a<c;++a){r=t[a];const l=r&&this.getDatasetMeta(r.datasetIndex).controller;l&&l[n+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],s=t.map(({datasetIndex:o,index:r})=>{const a=this.getDatasetMeta(o);if(!a)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:a.data[r],index:r}});!di(s,e)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,e))}notifyPlugins(t,e,s){return this._plugins.notify(this,t,e,s)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,s){const n=this.options.hover,o=(c,l)=>c.filter(h=>!l.some(d=>h.datasetIndex===d.datasetIndex&&h.index===d.index)),r=o(e,t),a=s?t:o(t,e);r.length&&this.updateHoverStyle(r,n.mode,!1),a.length&&n.mode&&this.updateHoverStyle(a,n.mode,!0)}_eventHandler(t,e){const s={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},n=r=>(r.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,n)===!1)return;const o=this._handleEvent(t,e,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,n),(o||s.changed)&&this.render(),this}_handleEvent(t,e,s){const{_active:n=[],options:o}=this,r=e,a=this._getActiveElements(t,n,s,r),c=An(t),l=Ma(t,this._lastEvent,s,c);s&&(this._lastEvent=null,T(o.onHover,[t,a,this],this),c&&T(o.onClick,[t,a,this],this));const h=!di(a,n);return(h||e)&&(this._active=a,this._updateHoverStyles(a,n,e)),this._lastEvent=l,h}_getActiveElements(t,e,s,n){if(t.type==="mouseout")return[];if(!s)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,n)}}M($,"defaults",F),M($,"instances",be),M($,"overrides",mt),M($,"registry",Z),M($,"version",xa),M($,"getChart",ts);function es(){return V($.instances,i=>i._plugins.invalidate())}function Xs(i,t,e=t){i.lineCap=D(e.borderCapStyle,t.borderCapStyle),i.setLineDash(D(e.borderDash,t.borderDash)),i.lineDashOffset=D(e.borderDashOffset,t.borderDashOffset),i.lineJoin=D(e.borderJoinStyle,t.borderJoinStyle),i.lineWidth=D(e.borderWidth,t.borderWidth),i.strokeStyle=D(e.borderColor,t.borderColor)}function Sa(i,t,e){i.lineTo(e.x,e.y)}function Pa(i){return i.stepped?co:i.tension||i.cubicInterpolationMode==="monotone"?lo:Sa}function qs(i,t,e={}){const s=i.length,{start:n=0,end:o=s-1}=e,{start:r,end:a}=t,c=Math.max(n,r),l=Math.min(o,a),h=n<r&&o<r||n>a&&o>a;return{count:s,start:c,loop:t.loop,ilen:l<c&&!h?s+l-c:l-c}}function Oa(i,t,e,s){const{points:n,options:o}=t,{count:r,start:a,loop:c,ilen:l}=qs(n,e,s),h=Pa(o);let{move:d=!0,reverse:f}=s||{},u,m,p;for(u=0;u<=l;++u)m=n[(a+(f?l-u:u))%r],!m.skip&&(d?(i.moveTo(m.x,m.y),d=!1):h(i,p,m,f,o.stepped),p=m);return c&&(m=n[(a+(f?l:0))%r],h(i,p,m,f,o.stepped)),!!c}function Da(i,t,e,s){const n=t.points,{count:o,start:r,ilen:a}=qs(n,e,s),{move:c=!0,reverse:l}=s||{};let h=0,d=0,f,u,m,p,g,b;const x=P=>(r+(l?a-P:P))%o,S=()=>{p!==g&&(i.lineTo(h,g),i.lineTo(h,p),i.lineTo(h,b))};for(c&&(u=n[x(0)],i.moveTo(u.x,u.y)),f=0;f<=a;++f){if(u=n[x(f)],u.skip)continue;const P=u.x,_=u.y,v=P|0;v===m?(_<p?p=_:_>g&&(g=_),h=(d*h+P)/++d):(S(),i.lineTo(P,_),m=v,d=0,p=g=_),b=_}S()}function He(i){const t=i.options,e=t.borderDash&&t.borderDash.length;return!i._decimated&&!i._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?Da:Oa}function Ca(i){return i.stepped?Uo:i.tension||i.cubicInterpolationMode==="monotone"?Yo:ut}function Ta(i,t,e,s){let n=t._path;n||(n=t._path=new Path2D,t.path(n,e,s)&&n.closePath()),Xs(i,t.options),i.stroke(n)}function La(i,t,e,s){const{segments:n,options:o}=t,r=He(t);for(const a of n)Xs(i,o,a.style),i.beginPath(),r(i,t,a,{start:e,end:e+s-1})&&i.closePath(),i.stroke()}const Ia=typeof Path2D=="function";function Aa(i,t,e,s){Ia&&!t.options.segment?Ta(i,t,e,s):La(i,t,e,s)}class Nt extends Pt{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsU